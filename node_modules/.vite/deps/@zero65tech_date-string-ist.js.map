{
  "version": 3,
  "sources": ["../../@zero65tech/date-string-ist/src/index.js"],
  "sourcesContent": ["const HOUR = 60 * 60 * 1000;\nconst DAY  = 24 * HOUR;\n\n\n\nexports.from = (date) => {\n\n  if(date instanceof Date)\n    date = date.getTime();\n\n  date = new Date(date + 5.5 * HOUR);\n\n  return date.toISOString().substring(0,10);\n\n}\n\n\n\nexports.nextWeek  = () => exports.from(Date.now() + 7 * DAY);\n\nexports.tomorrow  = () => exports.from(Date.now() + DAY);\n\nexports.today     = () => exports.from(Date.now());\n\nexports.yesterday = () => exports.from(Date.now() - DAY);\n\nexports.lastWeek  = () => exports.from(Date.now() - 7 * DAY);\n\n\n\nexports.min = (dateStr, ...dateStrArr) => {\n\n  let dateStr1 = dateStr;\n  let dateStr2 = dateStrArr[0];\n\n  if(dateStr1 === undefined)\n    return dateStr2;\n  if(dateStr2 === undefined)\n    return dateStr1;\n\n  if(dateStr1 === null)\n    return dateStr2;\n  if(dateStr2 === null)\n    return dateStr1;\n\n  dateStr = dateStr1 <= dateStr2 ? dateStr1 : dateStr2;\n  if(dateStrArr.length <= 1)\n    return dateStr;\n\n  return exports.min(dateStr, ...dateStrArr.slice(1));\n\n}\n\nexports.max = (dateStr, ...dateStrArr) => {\n\n  let dateStr1 = dateStr;\n  let dateStr2 = dateStrArr[0];\n\n  if(dateStr1 === undefined)\n    return dateStr2;\n  if(dateStr2 === undefined)\n    return dateStr1;\n\n  if(dateStr1 === null)\n    return dateStr2;\n  if(dateStr2 === null)\n    return dateStr1;\n\n  dateStr = dateStr1 >= dateStr2 ? dateStr1 : dateStr2;\n  if(dateStrArr.length <= 1)\n    return dateStr;\n\n  return exports.max(dateStr, ...dateStrArr.slice(1));\n\n}\n\n\n\nexports.shift = (dateStr, days) => {\n  if(!days) return dateStr;\n  let date = new Date(dateStr + ' GMT+530');\n  return exports.from(date.getTime() + days * DAY);\n}\n\nexports.getDuration = (startDate, endDate) => {\n  let dtStart = (startDate ? new Date(startDate + ' GMT+530') : new Date()).getTime() + 5.5 * HOUR;\n  let dtEnd   = (endDate   ? new Date(  endDate + ' GMT+530') : new Date()).getTime() + 5.5 * HOUR;\n  return Math.floor(dtEnd / DAY) - Math.floor(dtStart / DAY);\n}\n\n\n\nexports.getWeekStart = (dateStr) => {\n  let date = new Date(dateStr + ' GMT');\n  let weekDay = date.getUTCDay() || 7;\n  return exports.shift(dateStr, 1 - weekDay);\n}\n\nexports.getWeekEnd = (dateStr) => {\n  let date = new Date(dateStr + ' GMT');\n  let weekDay = date.getUTCDay() || 7;\n  return exports.shift(dateStr, 7 - weekDay);\n}\n\nexports.getFyStart = (dateStr) => {\n  dateStr = dateStr || exports.today();\n  return parseInt(dateStr.substring(0,4)) + (dateStr.substring(5,10) >= '04-01' ? 0 : -1) + '-04-01';\n}\n\nexports.getFyEnd = (dateStr) => {\n  dateStr = dateStr || exports.today();\n  return parseInt(dateStr.substring(0,4)) + (dateStr.substring(5,10) >= '04-01' ? 1 : 0) + '-03-31';\n}\n\n\n\nexports.getQtr = (dateStr) => {\n  dateStr = dateStr || exports.today();\n  let md = dateStr.substring(5,10);\n  if(md >= '10-01')\n    return 'q3'\n  else if(md >= '07-01')\n    return 'q2'\n  else if(md >= '04-01')\n    return 'q1'\n  else\n    return 'q4'\n}\n\nexports.getTaxQtr = (dateStr) => {\n  dateStr = dateStr || exports.today();\n  let md = dateStr.substring(5,10);\n  if(md >= '12-16')\n    return 'q4'\n  else if(md >= '09-16')\n    return 'q3'\n  else if(md >= '06-16')\n    return 'q2'\n  else if(md >= '04-01')\n    return 'q1'\n  else if(md >= '03-16')\n    return 'q5'\n  else\n    return 'q4'\n}\n\nexports.getFy = (dateStr) => {\n  dateStr = dateStr || exports.today();\n  return 'fy' + (parseInt(dateStr.substring(2,4)) + (dateStr.substring(5,10) >= '04-01' ? 1 : 0));\n}\n\n\n\nexports.getFyDuration = (dateStr) => {\n  dateStr = dateStr || exports.today();\n  return exports.getDuration(exports.getFyStart(dateStr), exports.getFyEnd(dateStr)) + 1;\n}\n"],
  "mappings": "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",
  "names": []
}
